```bash
ansible-playbook playbooks/playbook_install_coolify.yml

PLAY [Install Coolify on controler host] **************************************************************************************************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************
ok: [167.235.253.176]

TASK [common : Update package lists] ******************************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [167.235.253.176]

TASK [common : Upgrade all packages] ******************************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [167.235.253.176]

TASK [common : Install public AuthorizedKeysFile] *****************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [167.235.253.176]

TASK [common : Install required packages] *************************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [167.235.253.176]

TASK [common : Allow everything and enable UFW] *******************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [167.235.253.176]

TASK [common : Allow incoming traffic on specified ports] *********************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [167.235.253.176] => (item=22)

TASK [common : Configure Fail2Ban] ********************************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [167.235.253.176]

TASK [common : Restart fail2ban] **********************************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [167.235.253.176]

TASK [common : SSH Hardening for root user] ***********************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [167.235.253.176]

TASK [common : Restart sshd] **************************************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [167.235.253.176]

TASK [Allow incoming UI Port] *************************************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [167.235.253.176] => (item=6001)
changed: [167.235.253.176] => (item=8000)
changed: [167.235.253.176] => (item=80)
changed: [167.235.253.176] => (item=443)

TASK [Download Coolify installation script] ***********************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [167.235.253.176]

TASK [Execute Coolify installation script] ************************************************************************************************************************************************************************************************************************************************************************************************************************************************
ok: [167.235.253.176]

TASK [Debug installation script output] ***************************************************************************************************************************************************************************************************************************************************************************************************************************************************
ok: [167.235.253.176] => {
    "install_result.stdout_lines": [
        "-------------",
        "Welcome to Coolify v4 beta installer!",
        "This script will install everything for you.",
        "(Source code: https://github.com/coollabsio/coolify/blob/main/scripts/install.sh)",
        "",
        "-------------",
        "OS: ubuntu 22.04",
        "Coolify version: 4.0.0-beta.239",
        "-------------",
        "Installing required packages...",
        "OpenSSH server is installed.",
        "OpenSSH server is installed.",
        "PermitRootLogin is enabled.",
        "Docker is not installed. Installing Docker.",
        "# Executing docker install script, commit: e5543d473431b782227f8908005543bb4389b8de",
        "INFO: Searching repository for VERSION '24.0.7'",
        "INFO: apt-cache madison docker-ce | grep '24.0.7' | head -1 | awk '{$1=$1};1' | cut -d' ' -f 3",
        "INFO: apt-cache madison docker-ce-cli | grep '24.0.7' | head -1 | awk '{$1=$1};1' | cut -d' ' -f 3",
        "Client: Docker Engine - Community",
        " Version:           24.0.7",
        " API version:       1.43",
        " Go version:        go1.20.10",
        " Git commit:        afdd53b",
        " Built:             Thu Oct 26 09:07:41 2023",
        " OS/Arch:           linux/amd64",
        " Context:           default",
        "",
        "Server: Docker Engine - Community",
        " Engine:",
        "  Version:          24.0.7",
        "  API version:      1.43 (minimum version 1.12)",
        "  Go version:       go1.20.10",
        "  Git commit:       311b9ff",
        "  Built:            Thu Oct 26 09:07:41 2023",
        "  OS/Arch:          linux/amd64",
        "  Experimental:     false",
        " containerd:",
        "  Version:          1.6.28",
        "  GitCommit:        ae07eda36dd25f8a1b98dfbf587313b99c0190bb",
        " runc:",
        "  Version:          1.1.12",
        "  GitCommit:        v1.1.12-0-g51d5e94",
        " docker-init:",
        "  Version:          0.19.0",
        "  GitCommit:        de40ad0",
        "",
        "================================================================================",
        "",
        "To run Docker as a non-privileged user, consider setting up the",
        "Docker daemon in rootless mode for your user:",
        "",
        "    dockerd-rootless-setuptool.sh install",
        "",
        "Visit https://docs.docker.com/go/rootless/ to learn about rootless mode.",
        "",
        "",
        "To run the Docker daemon as a fully privileged service, but granting non-root",
        "users access, refer to https://docs.docker.com/go/daemon-access/",
        "",
        "WARNING: Access to the remote API on a privileged Docker daemon is equivalent",
        "         to root access on the host. Refer to the 'Docker daemon attack surface'",
        "         documentation for details: https://docs.docker.com/go/attack-surface/",
        "",
        "================================================================================",
        "",
        "Docker installed successfully.",
        "-------------",
        "Check Docker Configuration...",
        "Docker configuration updated, restart docker daemon...",
        "-------------",
        "Downloading required files from CDN...",
        "541647d15e1fce004930b5b3eed78c9971648e48924b3e601d730325a942db60",
        "",
        "Congratulations! Your Coolify instance is ready to use.",
        "",
        "Please visit http://167.235.253.176:8000 to get started."
    ]
}

PLAY [Worker configuration] ***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************
ok: [157.90.252.123]
ok: [168.119.165.118]
ok: [168.119.101.156]
ok: [49.13.126.247]
ok: [65.109.2.124]
ok: [167.235.30.10]

TASK [common : Update package lists] ******************************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [157.90.252.123]
changed: [168.119.101.156]
changed: [49.13.126.247]
changed: [65.109.2.124]
changed: [168.119.165.118]
changed: [167.235.30.10]

TASK [common : Upgrade all packages] ******************************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [49.13.126.247]
changed: [168.119.101.156]
changed: [65.109.2.124]
changed: [157.90.252.123]
changed: [168.119.165.118]
changed: [167.235.30.10]

TASK [common : Install public AuthorizedKeysFile] *****************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [157.90.252.123]
changed: [49.13.126.247]
changed: [168.119.101.156]
changed: [168.119.165.118]
changed: [65.109.2.124]
changed: [167.235.30.10]

TASK [common : Install required packages] *************************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [157.90.252.123]
changed: [168.119.101.156]
changed: [49.13.126.247]
changed: [65.109.2.124]
changed: [168.119.165.118]
changed: [167.235.30.10]

TASK [common : Allow everything and enable UFW] *******************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [49.13.126.247]
changed: [168.119.101.156]
changed: [168.119.165.118]
changed: [65.109.2.124]
changed: [157.90.252.123]
changed: [167.235.30.10]

TASK [common : Allow incoming traffic on specified ports] *********************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [49.13.126.247] => (item=22)
changed: [157.90.252.123] => (item=22)
changed: [168.119.101.156] => (item=22)
changed: [168.119.165.118] => (item=22)
changed: [65.109.2.124] => (item=22)
changed: [167.235.30.10] => (item=22)

TASK [common : Configure Fail2Ban] ********************************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [168.119.165.118]
changed: [49.13.126.247]
changed: [157.90.252.123]
changed: [168.119.101.156]
changed: [65.109.2.124]
changed: [167.235.30.10]

TASK [common : Restart fail2ban] **********************************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [157.90.252.123]
changed: [168.119.165.118]
changed: [168.119.101.156]
changed: [49.13.126.247]
changed: [65.109.2.124]
changed: [167.235.30.10]

TASK [common : SSH Hardening for root user] ***********************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [157.90.252.123]
changed: [168.119.165.118]
changed: [49.13.126.247]
changed: [168.119.101.156]
changed: [65.109.2.124]
changed: [167.235.30.10]

TASK [common : Restart sshd] **************************************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [168.119.165.118]
changed: [157.90.252.123]
changed: [168.119.101.156]
changed: [49.13.126.247]
changed: [65.109.2.124]
changed: [167.235.30.10]

TASK [Allow incoming traffic on specified ports] ******************************************************************************************************************************************************************************************************************************************************************************************************************************************
changed: [157.90.252.123] => (item=6001)
changed: [168.119.165.118] => (item=6001)
changed: [49.13.126.247] => (item=6001)
changed: [65.109.2.124] => (item=6001)
changed: [168.119.101.156] => (item=6001)
changed: [167.235.30.10] => (item=6001)

PLAY RECAP ********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************
157.90.252.123             : ok=12   changed=11   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
167.235.253.176            : ok=15   changed=12   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
167.235.30.10              : ok=12   changed=11   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
168.119.101.156            : ok=12   changed=11   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
168.119.165.118            : ok=12   changed=11   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
49.13.126.247              : ok=12   changed=11   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
65.109.2.124               : ok=12   changed=11   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

```
